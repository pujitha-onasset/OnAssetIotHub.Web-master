<div ng-controller="LoginsUsernameController as usernameCtrl">
    <div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-12">
        <div class="row">
            <div class="col-sm-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <br/>
                                <br/>
                                <div feedback></div>
                                <form name="userForm" id="userForm" ng-submit="usernameCtrl.actions.submit()" novalidate>
                                    <div class="form-group" ng-class="{'has-error': !usernameCtrl.username.isPristine && usernameCtrl.username.hasError()}">
                                        <label for="username">Username *</label>
                                        <input type="text" class="form-control" id="username" name="username"
                                               placeholder="Enter the new username"
                                               ng-model="usernameCtrl.username.value"
                                               ng-readonly="!usernameCtrl.hasPermission.toSave"
                                               ng-change="usernameCtrl.username.isPristine = true" maxlength="100" autocomplete="off">
                                        <p ng-show="!usernameCtrl.username.isPristine && usernameCtrl.username.errors.isBlank" class="help-block text-right"><i class="fa fa-exclamation-circle"></i>&nbsp;A username is required</p>
                                        <p ng-show="!usernameCtrl.username.isPristine && usernameCtrl.username.errors.isBadFormat" class="help-block text-right"><i class="fa fa-exclamation-circle"></i>&nbsp;A valid username is required</p>
                                        <p ng-show="!usernameCtrl.username.isPristine && usernameCtrl.username.errors.isDuplicate" class="help-block text-right"><i class="fa fa-exclamation-circle"></i>&nbsp;Username already exists</p>
                                    </div>
                                    <div class="form-group">
                                        <div class="text-right">
                                            <button type="submit" class="btn btn-default" ng-if="usernameCtrl.hasPermission.toSave"><i class="fa fa-save"></i>&nbsp;&nbsp;Save</button>
                                            <button type="button" class="btn btn-default"  ng-if="usernameCtrl.hasPermission.toSave" ng-click="usernameCtrl.actions.reset()"><i class="fa fa-undo"></i>&nbsp;&nbsp;Reset</button>
                                            <button type="button" class="btn btn-default" ng-click="usernameCtrl.actions.close()"><i class="fa times"></i>&nbsp;&nbsp;Close</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>